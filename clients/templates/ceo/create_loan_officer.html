{% load widget_tweaks %}
<!DOCTYPE html>
{% load static %}
<html lang="en" class="dark">
  <head>
    <meta charset="UTF-8" />
    <title>Create Loan Officer - CEO</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="icon"
      type="image/png"
      href="{% static 'images/logo-icon.png' %}"
    />

    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              primary: {
                DEFAULT: "#5B21B6",
                dark: "#7C3AED",
              },
              accent: "#06b6d4",
              surface: {
                DEFAULT: "#fff",
                dark: "#18181b",
              },
            },
            boxShadow: {
              neu: "0 4px 24px 0 rgba(0,0,0,0.10), 0 1.5px 4px 0 rgba(91,33,182,0.10)",
            },
          },
        },
      };
    </script>

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    />
  </head>

  <body
    class="bg-gradient-to-bl from-primary/10 via-accent/10 to-slate-100 dark:from-surface-dark dark:via-primary-dark/10 dark:to-surface-dark min-h-screen transition-colors duration-300 p-6"
  >
    <a
      href="{% url 'ceo_dashboard' %}"
      class="fixed top-4 left-4 z-50 bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded-lg shadow transition"
    >
      <i class="fa-solid fa-house mr-1"></i> Back Home
    </a>

    <div
      id="preloader"
      class="fixed inset-0 flex items-center justify-center bg-blue z-50"
    >
      <img
        src="{% static 'images/logo.png' %}"
        alt="Company Logo"
        class="animate-spin w-20 h-20"
      />
    </div>

    <section
      class="max-w-3xl mx-auto bg-white dark:bg-surface-dark shadow-neu rounded-3xl p-8 md:p-10"
    >
      <div class="flex justify-between items-center mb-6">
        <h2
          class="text-2xl font-extrabold text-primary dark:text-accent flex items-center gap-2"
        >
          <i class="fa-solid fa-user-plus"></i> Create Loan Officer
        </h2>
      </div>

      {% if messages %}
          <div class="p-4 max-w-xl mx-auto">
        {% for message in messages %}
        <div class="mb-3 p-3 rounded-lg text-sm font-semibold
                    {% if message.tags == 'success' %}bg-green-100 text-green-700
                    {% elif message.tags == 'error' %}bg-red-100 text-red-700
                    {% else %}bg-gray-100 text-gray-800{% endif %}">
          {{ message }}
        </div>
        {% endfor %}
          </div>
      {% endif %}
      {% if form.errors %}
      <div class="bg-red-100 text-red-800 p-4 rounded-lg text-sm mb-4">
        <ul>
          {% for field in form %}
            {% for error in field.errors %}
              <li><strong>{{ field.label }}:</strong> {{ error }}</li>
            {% endfor %}
          {% endfor %}
          {% for error in form.non_field_errors %}
            <li>{{ error }}</li>
          {% endfor %}
        </ul>
      </div>
      {% endif %}


      <form method="POST" class="space-y-8">
        {% csrf_token %}

        <div class="grid gap-6 md:grid-cols-2">
          <!-- Username -->
          <div>
            <label for="{{ form.username.id_for_label }}" class="block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-1">
              {{ form.username.label }}
            </label>
            {{ form.username|add_class:"w-full bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg p-3 text-gray-700 dark:text-gray-200" }}
          </div>

          <!-- Email -->
          <div>
            <label for="{{ form.email.id_for_label }}" class="block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-1">
              {{ form.email.label }}
            </label>
            {{ form.email|add_class:"w-full bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg p-3 text-gray-700 dark:text-gray-200" }}
          </div>

          <!-- First Name -->
          <div>
            <label for="{{ form.first_name.id_for_label }}" class="block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-1">
              {{ form.first_name.label }}
            </label>
            {{ form.first_name|add_class:"w-full bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg p-3 text-gray-700 dark:text-gray-200" }}
          </div>

          <!-- Last Name -->
          <div>
            <label for="{{ form.last_name.id_for_label }}" class="block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-1">
              {{ form.last_name.label }}
            </label>
            {{ form.last_name|add_class:"w-full bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg p-3 text-gray-700 dark:text-gray-200" }}
          </div>
        </div>

        <div class="grid gap-6 md:grid-cols-2">
          <!-- Password -->
          <div>
            <label for="{{ form.password1.id_for_label }}" class="block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-1">
              {{ form.password1.label }}
            </label>
            {{ form.password1|add_class:"w-full bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg p-3 text-gray-700 dark:text-gray-200" }}
          </div>

          <!-- Confirm Password -->
          <div>
            <label for="{{ form.password2.id_for_label }}" class="block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-1">
              {{ form.password2.label }}
            </label>
            {{ form.password2|add_class:"w-full bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg p-3 text-gray-700 dark:text-gray-200" }}
          </div>
        </div>

        <!-- Submit Button -->
        <div class="flex justify-end">
          <button type="submit"
            class="bg-primary hover:bg-primary-dark dark:bg-accent dark:hover:bg-primary-dark text-white font-bold py-3 px-6 rounded-lg transition">
            <i class="fa-solid fa-plus mr-2"></i> Create Officer
          </button>
        </div>
      </form>


    </section>

    <script>
      window.addEventListener("load", function () {
        const preloader = document.getElementById("preloader");
        if (preloader) {
          preloader.style.opacity = "0";
          preloader.style.visibility = "hidden";
          preloader.style.transition = "opacity 0.5s ease";
          setTimeout(() => preloader.remove(), 600);
        }
      });
    </script>
  </body>
</html>
